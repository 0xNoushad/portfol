---
import Layout from "@/layouts/Layout.astro";
import ProjectList from "@/components/ProjectList";
import { projects } from "@/data/projects";

const projectImages = projects
  .map((p) => p.image)
  .filter((image): image is string => typeof image === "string");
---

<Layout
  title="projects"
  description="things I have built"
  wide
  preloadImages={projectImages}
>
  <section class="pt-8 sm:pt-16 flex-1 flex flex-col min-h-0">
    <div class="max-w-4xl">
      <h1 class="text-3xl font-medium mb-2 font-display">projects</h1>
      <p class="text-muted text-sm mb-8">things i've built and worked on<span class="green">.</span></p>
    </div>

    <div class="flex-1 flex flex-col min-h-0">
      <ProjectList client:visible projects={projects} />
    </div>

    <a
      href="/"
      class="text-muted block mt-2 sm:mt-16 underline hover:text-foreground transition-colors duration-300 max-w-4xl text-right"
      >back to home</a
    >
  </section>
</Layout>

<style>
  .green {
    color: #10b981;
  }
</style>
